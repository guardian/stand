import { Meta, Story } from '@storybook/addon-docs/blocks';
import LinkButtonStories, {
	EmphasisedPrimaryXs,
	EmphasisedPrimarySm,
	EmphasisedPrimaryMd,
	EmphasisedPrimaryLg,
	EmphasisedPrimaryXsDisabled,
	EmphasisedPrimarySmDisabled,
	EmphasisedPrimaryMdDisabled,
	EmphasisedPrimaryLgDisabled,
	EmphasisedSecondaryXs,
	EmphasisedSecondarySm,
	EmphasisedSecondaryMd,
	EmphasisedSecondaryLg,
	EmphasisedSecondaryXsDisabled,
	EmphasisedSecondarySmDisabled,
	EmphasisedSecondaryMdDisabled,
	EmphasisedSecondaryLgDisabled,
	NeutralPrimaryXs,
	NeutralPrimarySm,
	NeutralPrimaryMd,
	NeutralPrimaryLg,
	NeutralPrimaryXsDisabled,
	NeutralPrimarySmDisabled,
	NeutralPrimaryMdDisabled,
	NeutralPrimaryLgDisabled,
	NeutralSecondaryXs,
	NeutralSecondarySm,
	NeutralSecondaryMd,
	NeutralSecondaryLg,
	NeutralSecondaryXsDisabled,
	NeutralSecondarySmDisabled,
	NeutralSecondaryMdDisabled,
	NeutralSecondaryLgDisabled,
} from './LinkButton.stories';

<Meta of={LinkButtonStories} />

# LinkButton

An anchor element styled like the Stand button, using React Aria for focus management and accessibility. It keeps link semantics (including `href`, `target`, and `rel`) while sharing the same variants and sizes as `Button`. Refer to React Aria's [Link docs](https://react-aria.adobe.com/Link) for behaviours and accessibility notes.

## When to use

- Navigational links that should visually align with buttons
- Cross-page CTAs where a button look-and-feel is preferred
- Situations requiring disabled styling while preserving link semantics

## Peer dependencies

- `@emotion/react`
- `react`
- `react-dom`
- `react-aria-components`
- `typescript`

See the `peerDependencies` section of `package.json` for compatible versions.

## Example usage

```tsx
import { LinkButton } from './LinkButton';
import type { LinkButtonTheme, LinkButtonProps } from './LinkButton';

const Example = () => (
	<>
		<LinkButton
			href="/article"
			variant="emphasised-primary"
			size="md"
			target="_blank"
			rel="noreferrer"
		>
			Read article
		</LinkButton>

		<LinkButton
			href="/settings"
			variant="neutral-secondary"
			size="sm"
			isDisabled
		>
			Disabled link
		</LinkButton>
	</>
);
```

## Props

| Name           | Type                                                                                               | Required | Default                | Description                                                                                               |
| -------------- | -------------------------------------------------------------------------------------------------- | -------- | ---------------------- | --------------------------------------------------------------------------------------------------------- |
| `href`         | `string`                                                                                           | Yes      | N/A                    | Destination URL for the link.                                                                             |
| `size`         | `'xs'` \| `'sm'` \| `'md'` \| `'lg'`                                                               | No       | `'md'`                 | Controls the link-button dimensions and typography.                                                       |
| `variant`      | `'emphasised-primary'` \| `'emphasised-secondary'` \| `'neutral-primary'` \| `'neutral-secondary'` | No       | `'emphasised-primary'` | Chooses the colour scheme and interaction states.                                                         |
| `children`     | `ReactNode`                                                                                        | Yes      | N/A                    | Content of the link.                                                                                      |
| `isDisabled`   | `boolean`                                                                                          | No       | `false`                | Disables interaction and applies disabled styling.                                                        |
| `theme`        | `LinkButtonTheme` (partial)                                                                        | No       | N/A                    | Override Stand tokens for this instance; merged over the default theme.                                   |
| `cssOverrides` | `SerializedStyles` \| `SerializedStyles[]`                                                         | No       | N/A                    | Low-level escape hatch for Emotion overrides when theming is insufficient.                                |
| `className`    | `string`                                                                                           | No       | N/A                    | Optional class name forwarded to the root React Aria link.                                                |
| `...props`     | `ReactAria Link` props                                                                             | No       | N/A                    | All other props from `react-aria-components` `Link` (e.g. `target`, `rel`, `aria-label`, event handlers). |

**`size` and `variant`**

- Sizes: `xs`, `sm`, `md`, `lg`
- Variants: `emphasised-primary`, `emphasised-secondary`, `neutral-primary`, `neutral-secondary`

## Stories

### Emphasised primary

#### Enabled

<Story of={EmphasisedPrimaryXs} />
<Story of={EmphasisedPrimarySm} />
<Story of={EmphasisedPrimaryMd} />
<Story of={EmphasisedPrimaryLg} />

#### Disabled

<Story of={EmphasisedPrimaryXsDisabled} />
<Story of={EmphasisedPrimarySmDisabled} />
<Story of={EmphasisedPrimaryMdDisabled} />
<Story of={EmphasisedPrimaryLgDisabled} />

### Emphasised secondary

#### Enabled

<Story of={EmphasisedSecondaryXs} />
<Story of={EmphasisedSecondarySm} />
<Story of={EmphasisedSecondaryMd} />
<Story of={EmphasisedSecondaryLg} />

#### Disabled

<Story of={EmphasisedSecondaryXsDisabled} />
<Story of={EmphasisedSecondarySmDisabled} />
<Story of={EmphasisedSecondaryMdDisabled} />
<Story of={EmphasisedSecondaryLgDisabled} />

### Neutral primary

#### Enabled

<Story of={NeutralPrimaryXs} />
<Story of={NeutralPrimarySm} />
<Story of={NeutralPrimaryMd} />
<Story of={NeutralPrimaryLg} />

#### Disabled

<Story of={NeutralPrimaryXsDisabled} />
<Story of={NeutralPrimarySmDisabled} />
<Story of={NeutralPrimaryMdDisabled} />
<Story of={NeutralPrimaryLgDisabled} />

### Neutral secondary

#### Enabled

<Story of={NeutralSecondaryXs} />
<Story of={NeutralSecondarySm} />
<Story of={NeutralSecondaryMd} />
<Story of={NeutralSecondaryLg} />

#### Disabled

<Story of={NeutralSecondaryXsDisabled} />
<Story of={NeutralSecondarySmDisabled} />
<Story of={NeutralSecondaryMdDisabled} />
<Story of={NeutralSecondaryLgDisabled} />

## Customisation

LinkButton reuses the `Button` theme tokens. Prefer the default theme; when needed use `theme` or `cssOverrides`.

### Custom theme

<Story of={EmphasisedSecondaryMd} />

```tsx
import type { LinkButtonTheme } from './LinkButton';
import { LinkButton } from './LinkButton';
import { baseColors, baseSpacing } from '@guardian/stand';

const customTheme: Partial<LinkButtonTheme> = {
	'emphasised-secondary': {
		md: {
			backgroundColor: baseColors.blue[100],
			border: `0.0625rem solid ${baseColors.blue[400]}`,
			padding: {
				top: baseSpacing['12-rem'],
				right: baseSpacing['20-rem'],
				bottom: baseSpacing['12-rem'],
				left: baseSpacing['20-rem'],
			},
		},
	},
};

const Component = () => (
	<LinkButton
		variant="emphasised-secondary"
		size="md"
		href="/custom"
		theme={customTheme}
	>
		Custom themed link-button
	</LinkButton>
);
```

### CSS overrides

<Story of={NeutralSecondarySm} />

```tsx
import { LinkButton } from './LinkButton';
import { baseColors } from '@guardian/stand';
import { css } from '@emotion/react';

const customStyles = css`
	text-decoration: underline;
	text-decoration-thickness: 0.125rem;
	text-decoration-color: ${baseColors.magenta[500]};
`;

const Component = () => (
	<LinkButton
		variant="neutral-secondary"
		size="sm"
		href="/decorated"
		cssOverrides={customStyles}
	>
		Decorated link
	</LinkButton>
);
```

## Custom Component Build

For non-React usage, import the CSS variables and style your own anchor element.

```css
/* import the font and button variables */
@import '@guardian/stand/fonts/OpenSans.css';
@import '@guardian/stand/component/button.css';

.stand-link-button {
	display: var(--component-button-shared-display);
	-webkit-appearance: var(--component-button-shared-webkit-appearance);
	text-align: var(--component-button-shared-text-align);
	box-shadow: var(--component-button-shared-box-shadow);
	text-decoration: var(--component-button-shared-text-decoration);
	cursor: var(--component-button-shared-cursor);
	justify-content: var(--component-button-shared-justify-content);
	align-items: var(--component-button-shared-align-items);
	background: var(--component-button-neutral-primary-md-background-color);
	color: var(--component-button-neutral-primary-md-color);
	height: var(--component-button-neutral-primary-md-height);
	padding: var(--component-button-neutral-primary-md-padding-top)
		var(--component-button-neutral-primary-md-padding-right)
		var(--component-button-neutral-primary-md-padding-bottom)
		var(--component-button-neutral-primary-md-padding-left);
	border: var(--component-button-neutral-primary-md-border);
	border-radius: var(--component-button-neutral-primary-md-border-radius);
	font: var(--component-button-neutral-primary-md-typography-font);
	letter-spacing: var(
		--component-button-neutral-primary-md-typography-letter-spacing
	);
	font-variation-settings: 'wdth'
		var(--component-button-neutral-primary-md-typography-font-width);
}

.stand-link-button:hover {
	background: var(
		--component-button-neutral-primary-md-hover-background-color
	);
	border: var(--component-button-neutral-primary-md-hover-border);
}

.stand-link-button:active {
	background: var(
		--component-button-neutral-primary-md-active-background-color
	);
	border: var(--component-button-neutral-primary-md-active-border);
}

.stand-link-button:focus-visible {
	outline: var(--component-button-shared-focus-visible-outline);
	outline-offset: var(--component-button-shared-focus-visible-outline-offset);
}

.stand-link-button[aria-disabled='true'] {
	cursor: var(--component-button-shared-disabled-cursor);
	background: var(
		--component-button-neutral-primary-md-disabled-background-color
	);
	border: var(--component-button-neutral-primary-md-disabled-border);
	color: var(--component-button-neutral-primary-md-disabled-color);
	pointer-events: none;
}
```

```html
<a class="stand-link-button" href="/" aria-disabled="false">LinkButton Label</a>
```

**TypeScript/JavaScript**

`LinkButton` uses the same token object as `Button`. You can read the values via `componentButton`:

```ts
import { componentButton } from '@guardian/stand/button';

const style = `
  display: ${componentButton.shared.display};
  justify-content: ${componentButton.shared['justify-content']};
  align-items: ${componentButton.shared['align-items']};
  background: ${componentButton['neutral-secondary'].md.backgroundColor};
  color: ${componentButton['neutral-secondary'].md.color};
  height: ${componentButton['neutral-secondary'].md.height};
  padding: ${componentButton['neutral-secondary'].md.padding.top}
    ${componentButton['neutral-secondary'].md.padding.right}
    ${componentButton['neutral-secondary'].md.padding.bottom}
    ${componentButton['neutral-secondary'].md.padding.left};
  border: ${componentButton['neutral-secondary'].md.border};
  border-radius: ${componentButton['neutral-secondary'].md.borderRadius};
  font: ${componentButton['neutral-secondary'].md.typography.font};
  letter-spacing: ${componentButton['neutral-secondary'].md.typography.letterSpacing};
  font-variation-settings: 'wdth' ${componentButton['neutral-secondary'].md.typography.fontWidth};
`;

document.getElementById('app')!.innerHTML = `
    <a style="${style}" href="/">JS generated link-button</a>
`;
```
