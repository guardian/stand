import { Meta, Story } from '@storybook/addon-docs/blocks';
import FaviconStories, {
	Letter,
	IconSymbol,
	IconSvg,
	Image,
	CustomTheme,
	CssOverrides,
} from './Favicon.stories';
import {
	SandboxReact,
	SandboxCss,
	SandboxJs,
} from '../../util/storybook/sandbox/Sandbox';
import {
	componentName,
	componentCss,
	componentHtml,
	componentJs,
	componentTsx,
} from './sandbox';

<Meta of={FaviconStories} />

# Favicon

The Favicon component represents an application's icon. It supports a single letter, SVG or image design.

## When to use

- Identify the application, for example in a header bar component

## Peer dependencies

- `@emotion/react`
- `react`
- `react-dom`
- `typescript`

See the `peerDependencies` section of `package.json` for compatible versions.

See [custom component build](#custom-component-build) for usage without React/Emotion.

## Example usage

<SandboxReact componentName={componentName} componentTsx={componentTsx} />

```tsx
import { Favicon } from '@guardian/stand/favicon';

/* types, if required */
import type { FaviconProps, FaviconTheme } from '@guardian/stand/favicon';

/* Letter */
<Favicon letter="F" />

/* Icon */
<Favicon icon="email" />

/* Image */
<Favicon
	src="https://example.com/favicon.jpg"
	alt="App icon"
/>
```

## Props

| Name           | Type                                                              | Required    | Default | Description                                                                                                                           |
| -------------- | ----------------------------------------------------------------- | ----------- | ------- | ------------------------------------------------------------------------------------------------------------------------------------- |
| `letter`       | `string`                                                          | Conditional | N/A     | Letter to render in the favicon.                                                                                                      |
| `icon`         | `IconProps['symbol']` \| `Exclude<IconProps['children'], string>` | Conditional | N/A     | Icon rendered inside the favicon. Accepts a `MaterialSymbol` name or a non-string `ReactNode` (e.g. an SVG element). Size is default. |
| `src`          | `string`                                                          | Conditional | N/A     | URL of the favicon image.                                                                                                             |
| `alt`          | `string`                                                          | Conditional | N/A     | Alt text for the image for accessibility.                                                                                             |
| `theme`        | `FaviconTheme`                                                    | No          | N/A     | Custom theme overrides for the favicon.                                                                                               |
| `cssOverrides` | `SerializedStyles`                                                | No          | N/A     | Custom CSS styles for the favicon.                                                                                                    |
| `className`    | `string`                                                          | No          | N/A     | Additional class name(s) for the favicon.                                                                                             |

One of `letter`, `icon` and `src` must be supplied. When using `src`, the `alt` prop is required for accessibility.

## Stories

### Letter

<Story of={Letter} />

### Icon Symbol

<Story of={IconSymbol} />

### Icon SVG

<Story of={IconSvg} />

### Image

<Story of={Image} />

## Customisation

We recommend using the Favicon component as provided, but it can be customised using the `theme` or `cssOverrides` props as required.

### Custom theme

The `theme` prop allows you to override specific design tokens for the Favicon component:

<Story of={CustomTheme} />

```tsx
import type { FaviconTheme } from '@guardian/stand/favicon';
import { Favicon } from '@guardian/stand/favicon';
import { baseColors, baseSizing } from '@guardian/stand';

const customTheme: FaviconTheme = {
	color: {
		blue: {
			background: baseColors['cool-purple'][700],
			text: baseColors.orange[300],
		},
	},
};

const Component = () => <Favicon letter="C" theme={customTheme} />;
```

### CSS overrides

The `cssOverrides` prop allows you to pass custom CSS to the Favicon component, if the theme prop is not sufficient:

<Story of={CssOverrides} />

```tsx
import { Favicon } from '@guardian/stand/favicon';
import { baseColors, baseSizing, baseSpacing } from '@guardian/stand';
import { css } from '@emotion/react';

const customStyles = css`
	border: ${baseSizing['size-2-rem']} solid ${baseColors.red[500]};
	background-color: ${baseColors.orange[700]};
	color: ${baseColors['warm-purple'][300]};
	border-radius: ${baseRadius['corner-4-px']};
`;

const Component = () => <Favicon letter="O" cssOverrides={customStyles} />;
```

## Custom Component Build

If you're not using React/Emotion, or `@guardian/stand` is not compatible with your project, you can create a custom Favicon component using the styles defined in the `FaviconTheme` type.

You will however be responsible for any additional functionality on top of the styles, for example image loading, image fallback, accessibility etc.

See "Custom Component" heading under the "Favicon" component on [codesandbox.io](https://codesandbox.io/p/sandbox/guardian-stand-components-forked-j8cjhy)

**`css`**

You can import the Favicon styles as CSS from the package, make sure that your build process supports importing CSS from `node_modules`/`package.json`:

<SandboxCss
	componentName={componentName}
	componentHtml={componentHtml}
	componentCss={componentCss}
/>

**TypeScript/JavaScript**

Use the `componentFavicon` variable and the `ComponentFavicon` type to define your custom styles in TypeScript/JavaScript:

<SandboxJs componentName={componentName} componentJs={componentJs} />
